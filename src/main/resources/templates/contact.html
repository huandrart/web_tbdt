<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" 
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle}">Liên hệ - Electronic Store</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link th:href="@{/css/templates-layout.css}" rel="stylesheet">
    <style>
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 0;
        }
        .contact-card {
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        .contact-card:hover {
            transform: translateY(-5px);
        }
        .contact-info {
            background-color: #f8f9fa;
            padding: 60px 0;
        }
        .form-control:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
        }
        .btn-primary {
            background-color: #667eea;
            border-color: #667eea;
        }
        .btn-primary:hover {
            background-color: #5a6fd8;
            border-color: #5a6fd8;
        }
        .map-container {
            height: 400px;
            border-radius: 10px;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-bolt me-2"></i>Electronic Store
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <!-- Search Bar -->
                <div class="mx-auto" style="max-width: 400px;">
                    <form class="d-flex" th:action="@{/products}" method="get">
                        <div class="input-group">
                            <input type="search" class="form-control search-bar" name="keyword" 
                                   placeholder="Tìm kiếm sản phẩm..." 
                                   th:value="${keyword}">
                            <button class="btn btn-outline-light" type="submit">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- User Menu -->
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/cart">
                            <i class="fas fa-shopping-cart me-1"></i>Giỏ hàng
                            <span class="badge bg-danger ms-1" id="cartCount">0</span>
                        </a>
                    </li>
                    <li class="nav-item" sec:authorize="isAuthenticated()">
                        <div class="dropdown">
                            <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" 
                               data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="fas fa-user me-1"></i>
                                <span sec:authentication="name">User</span>
                                <i class="fas fa-chevron-down ms-1"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li>
                                    <h6 class="dropdown-header">
                                        <i class="fas fa-user me-2"></i>Xin chào, <span sec:authentication="name">User</span>
                                    </h6>
                                </li>
                                <li><hr class="dropdown-divider"></li>
                                <li>
                                    <a class="dropdown-item" href="/profile">
                                        <i class="fas fa-user me-2"></i>Thông tin cá nhân
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="/profile/edit">
                                        <i class="fas fa-edit me-2"></i>Sửa thông tin
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="/profile/change-password">
                                        <i class="fas fa-lock me-2"></i>Đổi mật khẩu
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="/orders/my-orders">
                                        <i class="fas fa-shopping-bag me-2"></i>Đơn hàng của tôi
                                    </a>
                                </li>
                                <li><hr class="dropdown-divider"></li>
                                <li>
                                    <form th:action="@{/logout}" method="post" class="d-inline">
                                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                                        <button type="submit" class="dropdown-item text-danger">
                                            <i class="fas fa-sign-out-alt me-2"></i>Đăng xuất
                                        </button>
                                    </form>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item" sec:authorize="!isAuthenticated()">
                        <a class="nav-link" href="/login">
                            <i class="fas fa-sign-in-alt me-1"></i>Đăng nhập
                        </a>
                    </li>
                    <li class="nav-item" sec:authorize="hasRole('ADMIN')">
                        <a class="nav-link" href="/admin/dashboard">
                            <i class="fas fa-cog me-1"></i>Quản trị
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row text-center">
                <div class="col-12">
                    <h1 class="display-4 fw-bold mb-4">Liên hệ với chúng tôi</h1>
                    <p class="lead mb-0">
                        Chúng tôi luôn sẵn sàng lắng nghe và hỗ trợ bạn mọi lúc, mọi nơi
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Info Section -->
    <section class="contact-info">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card contact-card h-100 text-center">
                        <div class="card-body p-4">
                            <div class="mb-3">
                                <i class="fas fa-map-marker-alt fa-3x text-primary"></i>
                            </div>
                            <h5 class="card-title">Địa chỉ</h5>
                            <p class="card-text">
                                123 Đường ABC, Phường XYZ<br>
                                Quận 1, TP. Hồ Chí Minh<br>
                                Việt Nam
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card contact-card h-100 text-center">
                        <div class="card-body p-4">
                            <div class="mb-3">
                                <i class="fas fa-phone fa-3x text-success"></i>
                            </div>
                            <h5 class="card-title">Điện thoại</h5>
                            <p class="card-text">
                                <strong>Hotline:</strong> (028) 1234 5678<br>
                                <strong>Hỗ trợ:</strong> (028) 8765 4321<br>
                                <strong>Fax:</strong> (028) 1111 2222
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card contact-card h-100 text-center">
                        <div class="card-body p-4">
                            <div class="mb-3">
                                <i class="fas fa-envelope fa-3x text-info"></i>
                            </div>
                            <h5 class="card-title">Email</h5>
                            <p class="card-text">
                                <strong>Chung:</strong> info@electronicstore.com<br>
                                <strong>Hỗ trợ:</strong> support@electronicstore.com<br>
                                <strong>Bán hàng:</strong> sales@electronicstore.com
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Form Section -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="text-center mb-5">
                        <h2 class="display-5 fw-bold mb-3">Gửi tin nhắn cho chúng tôi</h2>
                        <p class="lead text-muted">
                            Hãy để lại thông tin và tin nhắn của bạn, chúng tôi sẽ phản hồi trong thời gian sớm nhất
                        </p>
                    </div>
                    
                    <!-- Flash Messages -->
                    <div th:if="${success}" class="alert alert-success alert-dismissible fade show" role="alert">
                        <i class="fas fa-check-circle me-2"></i>
                        <span th:text="${success}"></span>
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                    
                    <div th:if="${error}" class="alert alert-danger alert-dismissible fade show" role="alert">
                        <i class="fas fa-exclamation-circle me-2"></i>
                        <span th:text="${error}"></span>
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                    
                    <form th:action="@{/contact}" method="post" class="needs-validation" novalidate>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="name" class="form-label">Họ và tên <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="name" name="name" required>
                                <div class="invalid-feedback">
                                    Vui lòng nhập họ và tên của bạn.
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
                                <input type="email" class="form-control" id="email" name="email" required>
                                <div class="invalid-feedback">
                                    Vui lòng nhập email hợp lệ.
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="subject" class="form-label">Chủ đề <span class="text-danger">*</span></label>
                            <select class="form-select" id="subject" name="subject" required>
                                <option value="">Chọn chủ đề</option>
                                <option value="Hỗ trợ sản phẩm">Hỗ trợ sản phẩm</option>
                                <option value="Khiếu nại">Khiếu nại</option>
                                <option value="Đề xuất">Đề xuất</option>
                                <option value="Hợp tác">Hợp tác</option>
                                <option value="Khác">Khác</option>
                            </select>
                            <div class="invalid-feedback">
                                Vui lòng chọn chủ đề.
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="message" class="form-label">Tin nhắn <span class="text-danger">*</span></label>
                            <textarea class="form-control" id="message" name="message" rows="5" 
                                      placeholder="Hãy mô tả chi tiết vấn đề hoặc câu hỏi của bạn..." required></textarea>
                            <div class="invalid-feedback">
                                Vui lòng nhập tin nhắn của bạn.
                            </div>
                        </div>
                        
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-lg px-5">
                                <i class="fas fa-paper-plane me-2"></i>Gửi tin nhắn
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Map Section -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="text-center mb-5">
                        <h2 class="display-5 fw-bold mb-3">Vị trí của chúng tôi</h2>
                        <p class="lead text-muted">Tìm đường đến cửa hàng của chúng tôi</p>
                    </div>
                    
                    <div class="map-container">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.325311816315!2d106.6641!3d10.7769!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752ed2392c44df%3A0x460c9a99d5a393ac!2sHo%20Chi%20Minh%20City%2C%20Vietnam!5e0!3m2!1sen!2sus!4v1234567890123!5m2!1sen!2sus" 
                            width="100%" 
                            height="100%" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="text-center mb-5">
                        <h2 class="display-5 fw-bold mb-3">Câu hỏi thường gặp</h2>
                        <p class="lead text-muted">Những câu hỏi phổ biến từ khách hàng</p>
                    </div>
                    
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq1">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" 
                                        data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
                                    Làm thế nào để đặt hàng?
                                </button>
                            </h2>
                            <div id="collapse1" class="accordion-collapse collapse show" 
                                 aria-labelledby="faq1" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Bạn có thể đặt hàng trực tuyến bằng cách thêm sản phẩm vào giỏ hàng, 
                                    sau đó tiến hành thanh toán. Chúng tôi hỗ trợ nhiều phương thức thanh toán 
                                    như COD, chuyển khoản ngân hàng, và ví điện tử.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq2">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                                        data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
                                    Thời gian giao hàng là bao lâu?
                                </button>
                            </h2>
                            <div id="collapse2" class="accordion-collapse collapse" 
                                 aria-labelledby="faq2" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Thời gian giao hàng thông thường là 1-3 ngày làm việc đối với nội thành TP.HCM, 
                                    và 3-7 ngày làm việc đối với các tỉnh thành khác. Chúng tôi sẽ thông báo cụ thể 
                                    khi xác nhận đơn hàng.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq3">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                                        data-bs-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
                                    Chính sách đổi trả như thế nào?
                                </button>
                            </h2>
                            <div id="collapse3" class="accordion-collapse collapse" 
                                 aria-labelledby="faq3" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Chúng tôi hỗ trợ đổi trả sản phẩm trong vòng 30 ngày kể từ ngày nhận hàng, 
                                    với điều kiện sản phẩm còn nguyên vẹn, không bị hỏng hóc do lỗi của khách hàng.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq4">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                                        data-bs-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
                                    Làm sao để liên hệ hỗ trợ khách hàng?
                                </button>
                            </h2>
                            <div id="collapse4" class="accordion-collapse collapse" 
                                 aria-labelledby="faq4" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Bạn có thể liên hệ chúng tôi qua hotline (028) 1234 5678, email support@electronicstore.com, 
                                    hoặc sử dụng form liên hệ trên trang này. Chúng tôi hoạt động 24/7 để hỗ trợ bạn.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5><i class="fas fa-bolt"></i> Electronic Store</h5>
                    <p>Cửa hàng thiết bị điện tử uy tín với nhiều năm kinh nghiệm trong lĩnh vực bán lẻ điện tử.</p>
                </div>
                <div class="col-md-4">
                    <h5>Liên kết nhanh</h5>
                    <ul class="list-unstyled">
                        <li><a href="/" class="text-light text-decoration-none">Trang chủ</a></li>
                        <li><a href="/products" class="text-light text-decoration-none">Sản phẩm</a></li>
                        <li><a href="/about" class="text-light text-decoration-none">Giới thiệu</a></li>
                        <li><a href="/contact" class="text-light text-decoration-none">Liên hệ</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Liên hệ</h5>
                    <p><i class="fas fa-map-marker-alt"></i> 123 Đường ABC, Quận XYZ, TP.HCM</p>
                    <p><i class="fas fa-phone"></i> (028) 1234 5678</p>
                    <p><i class="fas fa-envelope"></i> info@electronicstore.com</p>
                </div>
            </div>
            <hr class="my-4">
            <div class="row">
                <div class="col-12 text-center">
                    <p>&copy; 2024 Electronic Store. Tất cả quyền được bảo lưu.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Form Validation -->
    <script>
        (function() {
            'use strict';
            window.addEventListener('load', function() {
                var forms = document.getElementsByClassName('needs-validation');
                var validation = Array.prototype.filter.call(forms, function(form) {
                    form.addEventListener('submit', function(event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
    </script>
</body>
</html>
